<div class="order-details-section">
    <div class="heading-text mt-4">{{"Order Details_1" | translate}}</div>
    <div class="row mt-0 gy-4">
        <div class="col-md-8">
            <div *ngFor="let product of orderData?.orderItems; let i = index">
                <div class="row border-bottom-1" [ngClass]="{'py-4':i!=0,'pb-4':i==0}">
                    <div class="col-md-4"><img class="order-details-image" [src]="baseUrl+'/'+product.image"></div>
                    <div class="col-md-5">
                        <div class="fw-bold">{{product.productName}} | {{product.size}} {{product.unit}}</div>
                        <div class="mt-1">{{"Units in box" | translate}} : {{product.quantity}}</div>
                        <div class="mt-1">{{"Price per Unit" | translate}} : ₹{{product.price}}</div>
                        <div class="mt-1">{{"Quantity" | translate}} : {{product.productQty}}</div>
                    </div>
                    <div class="align-content-center col-md-3 fw-bold">
                        {{"Subtotal" | translate}} : ₹{{(product.quantity * product.price * product.productQty) |
                        number}}
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                <div class="card-body">
                    <div class="fw-bold">{{"Order Details_1" | translate}}</div>
                    <div class="mt-1">{{"Invoice Number" | translate}} : {{orderData?.invoiceId}}</div>
                    <div class="mt-1">{{"Order Date" | translate}} : {{orderData?.orderDate}}</div>
                </div>
            </div>
            <div class="card mt-3">
                <div class="card-body">
                    <div class="fw-bold">{{"Delivery Details" | translate}}</div>
                    <div class="mt-1">{{"Delivery Address" | translate}} : {{orderData?.address1 +'
                        '+orderData?.address2}}</div>
                    <!-- <div class="mt-1">Name: {{orderData.firstName +' '+orderData.lastName}}</div> -->
                    <div class="d-flex justify-content-between mt-1">{{"Email ID" | translate}} : {{orderData?.email}}
                        <span *ngIf="userData.isAdmin"><mat-icon class="kt-pointer text-blue-500"
                                (click)="redirectToMail()">mail</mat-icon></span>
                    </div>
                    <div class="d-flex justify-content-between" [ngClass]="{'mt-1':!userData.isAdmin}">{{"Mobile Number"
                        | translate}} :
                        {{orderData?.mobile}}
                        <span class="kt-pointer" *ngIf="userData.isAdmin" (click)="redirectToWhatsapp()"><svg
                                xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="22" height="22"
                                viewBox="0 0 50 50" style="fill:#25D366;">
                                <path
                                    d="M25,2C12.318,2,2,12.318,2,25c0,3.96,1.023,7.854,2.963,11.29L2.037,46.73c-0.096,0.343-0.003,0.711,0.245,0.966 C2.473,47.893,2.733,48,3,48c0.08,0,0.161-0.01,0.24-0.029l10.896-2.699C17.463,47.058,21.21,48,25,48c12.682,0,23-10.318,23-23 S37.682,2,25,2z M36.57,33.116c-0.492,1.362-2.852,2.605-3.986,2.772c-1.018,0.149-2.306,0.213-3.72-0.231 c-0.857-0.27-1.957-0.628-3.366-1.229c-5.923-2.526-9.791-8.415-10.087-8.804C15.116,25.235,13,22.463,13,19.594 s1.525-4.28,2.067-4.864c0.542-0.584,1.181-0.73,1.575-0.73s0.787,0.005,1.132,0.021c0.363,0.018,0.85-0.137,1.329,1.001 c0.492,1.168,1.673,4.037,1.819,4.33c0.148,0.292,0.246,0.633,0.05,1.022c-0.196,0.389-0.294,0.632-0.59,0.973 s-0.62,0.76-0.886,1.022c-0.296,0.291-0.603,0.606-0.259,1.19c0.344,0.584,1.529,2.493,3.285,4.039 c2.255,1.986,4.158,2.602,4.748,2.894c0.59,0.292,0.935,0.243,1.279-0.146c0.344-0.39,1.476-1.703,1.869-2.286 s0.787-0.487,1.329-0.292c0.542,0.194,3.445,1.604,4.035,1.896c0.59,0.292,0.984,0.438,1.132,0.681 C37.062,30.587,37.062,31.755,36.57,33.116z">
                                </path>
                            </svg></span>
                    </div>
                </div>
            </div>
            <div class="card mt-3">
                <div class="card-body">
                    <div class="fw-bold">{{"Order Summary" | translate}}</div>
                    <div class="row mt-2"
                        *ngFor="let product of orderData?.orderItems; let i = index; let isLast = last;"
                        [ngClass]="{'border-dotted border-left-none border-right-none border-top-none pb-2':isLast}">
                        <div class="col-md-6 w-50">
                            <div>{{product.productName}} | {{product.size}} {{product.unit}}</div>
                        </div>
                        <div class="col-md-6 w-50 text-end">₹{{(product.quantity * product.price * product.productQty) |
                            number}}
                        </div>
                    </div>
                    <div class="row mt-2 border-dotted border-left-none border-right-none border-top-none pb-2"
                        *ngIf="orderData?.discountAmount">
                        <div class="col-md-6 w-50">
                            <div class="fw-bold">{{"Subtotal" | translate}}</div>
                        </div>
                        <div class="col-md-6 w-50 text-end">
                            <div class=""> ₹{{orderData?.totalBeforeDiscount | number}}</div>
                        </div>
                        <div class="col-md-6 w-50">
                            <div class="">{{"Discount" | translate}}</div>
                        </div>
                        <div class="col-md-6 w-50 text-end">
                            <div class="">- ₹{{orderData?.discountAmount | number}}</div>
                        </div>
                    </div>
                    <div class="row mt-2">
                        <div class="col-md-6 w-50">
                            <h4 class="heading-color fw-bold">{{"Total" | translate}}</h4>
                        </div>
                        <div class="col-md-6 w-50 text-end">
                            <h4 class="heading-color fw-bold"> ₹{{orderData?.totalAmount | number}}</h4>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card mt-3">
                <div class="card-body">
                    <div class="fw-bold">{{"Payment and Order Status" | translate}}</div>
                    <div>{{"Payment Status" | translate}} :
                        <select [(ngModel)]="orderData.paymentStatus" (ngModelChange)="changeOrderStatus()"
                            *ngIf="userData.isAdmin">
                            <option value="Pending">Pending</option>
                            <option value="Completed">Completed</option>
                            <option value="Failed">Failed</option>
                        </select>
                        <span *ngIf="!userData.isAdmin">
                            <span *ngIf="orderData?.paymentStatus=='Pending'"
                                class="text-warning">{{orderData.paymentStatus}}</span>
                            <span *ngIf="orderData?.paymentStatus=='Completed'"
                                class="text-success">{{orderData.paymentStatus}}</span>
                            <span *ngIf="orderData?.paymentStatus=='Failed'"
                                class="text-danger">{{orderData.paymentStatus}}</span>
                        </span>
                    </div>
                    <div>{{"Order Status" | translate}} :
                        <select [(ngModel)]="orderData.orderStatus" (ngModelChange)="changeOrderStatus()"
                            *ngIf="userData.isAdmin">
                            <option value="Processing">Processing</option>
                            <option value="Shipped">Shipped</option>
                            <option value="Delivered">Delivered</option>
                        </select>
                        <span *ngIf="!userData.isAdmin">
                            <span *ngIf="orderData?.orderStatus=='Processing'"
                                class="text-warning">{{orderData.orderStatus}}</span>
                            <span *ngIf="orderData?.orderStatus=='Shipped'"
                                class="heading-color">{{orderData.orderStatus}}</span>
                            <span *ngIf="orderData?.orderStatus=='Delivered'"
                                class="text-success">{{orderData.orderStatus}}</span>
                        </span>
                    </div>
                </div>
            </div>
            <div class="card mt-3 kt-pointer" (click)="downloadInvoice()">
                <div class="card-body d-flex justify-content-center">
                    <mat-icon class="me-2">download</mat-icon> {{"Download Invoice" | translate}}
                </div>
            </div>
        </div>
    </div>
</div>