<div class="cart-section">
    <div class="heading-text mt-4">Checkout</div>
    <div class="row">
        <div class="col-md-8">
            <form [formGroup]="checkoutForm">
                <div class="row mt-3 border-bottom-1 pb-3">
                    <div class="col-md-12">
                        <div class="fs-5">Contact information
                        </div>
                        <div class="mt-1 text-muted">We'll use this email to send you details and updates about your
                            order.</div>
                        <mat-form-field appearance="outline" class="w-100 mt-2">
                            <mat-label>Email ID</mat-label>
                            <input matInput placeholder="Email address" formControlName="emailId">
                        </mat-form-field>
                    </div>
                    <div class="col-md-12">
                        <div class="fs-5">Billing address
                        </div>
                        <div class="mt-1 text-muted">Enter the billing address that matches your payment method.</div>
                        <mat-form-field appearance="outline" class="w-100 mt-2">
                            <mat-label>Country</mat-label>
                            <input matInput placeholder="Country" formControlName="country">
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field appearance="outline" class="w-100 mt-2">
                            <mat-label>First Name</mat-label>
                            <input matInput placeholder="First Name" formControlName="firstName">
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field appearance="outline" class="w-100 mt-2">
                            <mat-label>Last Name</mat-label>
                            <input matInput placeholder="Last Name" formControlName="lastName">
                        </mat-form-field>
                    </div>
                    <div class="col-md-12">
                        <mat-form-field appearance="outline" class="w-100 mt-2">
                            <mat-label>Address</mat-label>
                            <input matInput placeholder="Address" formControlName="address1">
                        </mat-form-field>
                    </div>
                    <div class="col-md-12">
                        <mat-form-field appearance="outline" class="w-100 mt-2">
                            <mat-label>Apartment, suite, etc. (optional)</mat-label>
                            <input matInput placeholder="Apartment, suite, etc. (optional)" formControlName="address2">
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field appearance="outline" class="w-100 mt-2">
                            <mat-label>City</mat-label>
                            <input matInput placeholder="City" formControlName="city">
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field appearance="outline" class="w-100 mt-2">
                            <mat-label>Postal Code</mat-label>
                            <input matInput placeholder="Postal Code" formControlName="postalCode">
                        </mat-form-field>
                    </div>
                    <div class="col-md-12">
                        <mat-form-field appearance="outline" class="w-100 mt-2">
                            <mat-label>Mobile Number</mat-label>
                            <input matInput placeholder="Mobile Number" formControlName="mobile">
                        </mat-form-field>
                    </div>
                    <div class="col-md-12">
                        <div class="fs-5">Payment Options
                        </div>
                        <!-- {{checkoutForm.value | json}} -->
                        <mat-radio-group aria-label="Select an option" formControlName="paymentMode">
                            <mat-radio-button value="cod"
                                [disabled]="checkoutForm.controls['city'].value=='' || checkoutForm.controls['postalCode'].value==''">Cash
                                on Delivery (COD)</mat-radio-button>
                            <mat-radio-button value="online"
                                [disabled]="checkoutForm.controls['city'].value=='' || checkoutForm.controls['postalCode'].value==''">Online
                                Payment</mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <div class="col-md-12">
                        <mat-checkbox class="example-margin" formControlName="addNote">Add a note to your
                            order</mat-checkbox>
                        <div *ngIf="checkoutForm.controls['addNote'].value">
                            <mat-form-field class="w-100">
                                <mat-label>Notes about your order</mat-label>
                                <textarea matInput cdkTextareaAutosize formControlName="note"></textarea>
                            </mat-form-field>
                        </div>
                    </div>
                </div>
                <div class="fs-5 text-muted mt-3">By proceeding with your purchase you agree to our Terms and Conditions
                    and Privacy Policy</div>
                <div class="d-flex justify-content-between mt-3">
                    <div class="d-flex text-muted underline kt-pointer" (click)="goToCart()">
                        <div><mat-icon>keyboard_backspace</mat-icon></div><span class="ms-2"> Return to Cart</span>
                    </div>
                    <div>
                        <div class="place-order-button" [class.place-order-button-disable]="checkoutForm.invalid"
                            (click)="placeOrder()">
                            Place Order
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-md-4">
            <div class="card">
                <div class="card-body common-background-color" style="border-radius: 6px;">
                    <div>
                        Order Summary
                    </div>
                    <div *ngFor="let product of productList;let i = index;">
                        <div class="row my-5" *ngFor="let variant of product.variant;let j = index;">
                            <div class="col-md-3"><img class="checkout-product-image" [src]="baseUrl+'/'+variant.image">
                                <!-- <span
                                    class="position-absolute translate-middle product-qty-badge rounded-pill bg-white text-black border-1">
                                    {{product.productQty}}
                                </span> -->
                            </div>
                            <div class="col-md-6">
                                <div>{{product.productName}}</div>
                                <div>₹{{variant.price}}</div>
                                <div>Size : {{product.size}} {{product.unit}}</div>
                            </div>
                            <div class="col-md-3">
                                ₹{{(variant.qty * variant.price * product.productQty) | number}}
                            </div>
                        </div>
                    </div>
                    <div class="border-bottom-1 border-top-1">
                        <div class="accordion" id="couponAccordionMain">
                            <div class="accordion-item border-0">
                                <h2 class="accordion-header" id="headingTwo">
                                    <button class="accordion-button collapsed px-0" type="button"
                                        data-bs-toggle="collapse" data-bs-target="#couponAccordion"
                                        aria-expanded="false" aria-controls="couponAccordion">
                                        Add coupons
                                    </button>
                                </h2>
                                <div id="couponAccordion" class="accordion-collapse collapse"
                                    aria-labelledby="headingTwo" data-bs-parent="#couponAccordionMain">
                                    <div class="accordion-body px-0">
                                        <div class="d-flex">
                                            <mat-form-field appearance="outline" class="w-100">
                                                <input matInput placeholder="Enter code" [(ngModel)]="couponCode">
                                            </mat-form-field>
                                            <div class="coupon-apply mt-2 ms-2"
                                                [class.coupon-apply-disable]="couponCode==''">
                                                Apply
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="border-bottom-1">
                        <div class="d-flex fs-4 justify-content-between py-2">
                            <div>Subtotal</div>
                            <div>₹{{subTotal | number}}</div>
                        </div>
                    </div>
                    <div>
                        <div class="d-flex fs-2 justify-content-between py-2">
                            <div>Total</div>
                            <div>₹{{total | number}}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>